\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{icode}[2022/03/26 Code Highlighting Package]

\RequirePackage{xcolor}

% configure listings
\RequirePackage{listings}

\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}

\lstdefinestyle{mystyle}{
  backgroundcolor   = \color{backcolour},
  commentstyle      = \color{codegreen},
  keywordstyle      = \color{magenta},
  numberstyle       = \tiny\color{codegray},
  stringstyle       = \color{codepurple},
  basicstyle        = \ttfamily\footnotesize,
  breakatwhitespace = false,
  breaklines        = true,
  captionpos        = b,
  keepspaces        = true,
  numbers           = left,
  numbersep         = 5pt,
  showspaces        = false,
  showstringspaces  = false,
  showtabs          = false,
  tabsize           = 2
}

\lstset{
  style = mystyle,
}

% configure minted
\RequirePackage{minted}

\definecolor{LightGray}{gray}{0.9}

\setminted{
  baselinestretch = 1.2,
  bgcolor         = LightGray,
  fontsize        = \footnotesize,
  frame           = lines,
  framesep        = 2mm,
  linenos
}
